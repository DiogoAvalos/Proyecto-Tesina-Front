<div>
  <h3 class="titulo">Lista de Roles</h3>
</div>

<div class="row">
  <tabla-dinamica
  [data]="dataRoles"
  [columnas]="columnas"
  (accion)="accion($event)"
  >
  <div class="example-button-row">
      <button mat-flat-button color="primary" (click)="registroNuevo()">REGISTRAR</button>
  </div>
  </tabla-dinamica>
</div>

<app-modal-component [titulo]="estadoModal" [style]="'min-width: 20%'" #modal>
  <div class="row">
    <div class="col-12">
      <form [formGroup]="formRol">
        <div class="row g-3">
          <div class="col-12">
            <mat-form-field class="w-100" appearance="outline">
              <mat-label data-for="nombre_rol">Nombre del Rol</mat-label>
              <input type="text" matInput oninput="value = value.toUpperCase()" formControlName="nombre_rol">
            </mat-form-field>
          </div>
          <!-- !TEST -->
          <div class="col-12">
            <section class="example-section">
              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{roles().nombre_rol}}
                  </mat-panel-title>
                  <mat-panel-description>
                    {{roles().accesos.length}} accesos
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <ul>
                  <li *ngFor="let acceso of roles().accesos; let i = index">
                    <mat-checkbox
                      [checked]="acceso.completed"
                      (change)="update($event.checked, i)"
                    >
                      {{acceso.label}}
                    </mat-checkbox>
                  </li>
                </ul>
              </mat-expansion-panel>
            </section>            
          </div>
          <!-- !TEST -->
        </div>
        <div mat-raised-button class="px-5 py-4 text-uppercase" color="primary">
          <button mat-raised-button class="px-5 py-4 text-uppercase" color="primary">
            <!-- {{ nombreBtn }} -->
            TEST
        </button>
        </div>
      </form>
    </div>
  </div>
</app-modal-component>